<html>
<head>

    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">

	<link rel="stylesheet" href="{{ url_for('static',filename='bootstrap-4.0.0.min.css') }}">
	<link rel="stylesheet" href="{{ url_for('static',filename='style/style.css') }}">
	<link rel="stylesheet" href="{{ url_for('static',filename='style/services_style.css') }}">
	<link rel="stylesheet" href="{{ url_for('static',filename='style/home_style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='style/datasets_style.css') }}">

	<script src="{{ url_for('static',filename='jquery-3.2.1.js') }}"></script>
	<script src="{{ url_for('static',filename='bootstrap-4.0.0.min.js') }}"></script>

</head>
<body>

<nav class="navbar" id="navbar">
        <div class="navbar_container">
            <div class="navbar_toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="navbar_menu">
                <li class="navbar_items"><a class="navbar_links" id="home-page" href="home">Home</a></li>
                <li class="navbar_items"><a class="navbar_links" id="services-page" href="services">A/B-test</a></li>
                <li class="navbar_items"><a class="navbar_links" id="datasets-page" href="datasets">Datasets</a></li>
                <li class="navbar_items"><a class="navbar_links" id="visualizations-page" href="visualizations">Visualizations</a></li>
                <li class="navbar_items"><a class="navbar_links" id="testlist-page" href="testlist">Testlist</a></li>
            </ul>
        </div>
    </nav>


<form method="POST" action="" data-name="cForm">
<div class="_services" id="services">


{#        <h1>1. Choosing dataset</h1>#}
{#        <p>Select a dataset with the selection button below. <br>#}
{#            If you would like to add a new dataset (for admins only), go to the Datasets page.</p>#}

        <h1>Setting up the algorithm</h1>
            <div class="_services__card">
                <div class="par_form">
                    <div class="container">


                          <!-- Dataset Selection-->

                          <select class="ds_select" id="datasetSelection" name="datasetSelection">
                              <option value="dataset 0">dataset 0</option>
                              <option value="dataset 1">dataset 1</option>
                              <option value="dataset 2">dataset 2</option>
                              <option value="dataset 3">dataset 3</option>
                          </select>

                          <!-- General parameters Selection-->

                          <div class="row">
                            <div class="col-25"><label for="startingpoint">Starting point</label></div>
                            <div class="col-75"><input type="datetime-local" id="startingpoint" name="startingpoint" placeholder="Starting point" required></div>
                          </div>
                          <div class="row">
                            <div class="col-25"><label for="endpoint">End point</label></div>
                            <div class="col-75"><input type="datetime-local" id="endpoint" name="endpoint" placeholder="End point" required></div>
                          </div>
                          <div class="row">
                            <div class="col-25"><label for="stepsize">Stepsize</label></div>
                            <div class="col-75"><input type="text" id="stepsize" name="stepsize" placeholder="Stepsize" required></div>
                          </div>
                          <div class="row">
                            <div class="col-25"><label for="topk">Top-k</label></div>
                            <div class="col-75"><input type="text" id="topk" name="topk" placeholder="Top-k" required></div>
                          </div>
{#                        <form method="POST" data-name="cForm">#}
                          <!-- Algorithm Selection-->

                            <select class="_ds_select" id="algoSelection" name="algoSelection" onchange="switchVisibleParameters();">
                                <option value="popularity">popularity</option>
                                <option value="recency">recency</option>
                                <option value="itemknn">itemknn</option>
                            </select>

                          <!-- Algorithm-specific parameters Selection-->

                            <p style="color: black;">Set Parameters</p>

                            <div class="par_form">
                                <div class="container1" id="popularity_par" style="border: 2px solid black;">
                                  <div class="row">
                                    <div class="col-25"><label for="windowsize">Window Size</label></div>
                                    <div class="col-75" style="width: 25%"><input type="text" id="windowsize" name="windowsize" placeholder="windowsize" ></div>
                                  </div>
                                  <div class="row">
                                    <div class="col-25"><label for="retraininterval">Retrain interval</label></div>
                                    <div class="col-75" style="width: 25%"><input type="text" id="retraininterval1" name="retraininterval1" placeholder="retraininterval" ></div>
                                  </div>
                                </div>

                                <div class="container2" id="recency_par" style="border: 2px solid black; opacity: 0;height: 0;width: 0;">
                                  <div class="row">
                                    <div class="col-25"><label for="retraininterval">Retrain interval</label></div>
                                    <div class="col-75" style="width: 25%"><input type="text" id="retraininterval2" name="retraininterval2" placeholder="retraininterval" ></div>
                                  </div>
                                </div>

                                <div class="container3" id="itemknn_par" style="border: 2px solid black; opacity: 0;height: 0;width: 0;">
                                  <div class="row">
                                    <div class="col-25"><label for="k">K</label></div>
                                    <div class="col-75" style="width: 25%"><input type="text" id="k" name="k" placeholder="k" ></div>
                                  </div>
                                  <div class="row">
                                    <div class="col-25"><label for="window">Window</label></div>
                                    <div class="col-75" style="width: 25%"><input type="text" id="window" name="window" placeholder="window" ></div>
                                  </div>
                                  <div class="row">
                                    <div class="col-25"><label for="normalize">Normalize</label></div>
                                    <div class="col-75" style="width: 25%"><input type="text" id="normalize" name="normalize" placeholder="normalize" ></div>
                                  </div>
                                  <div class="row">
                                    <div class="col-25"><label for="retraininterval">Retrain interval</label></div>
                                    <div class="col-75" style="width: 25%"><input type="text" id="retraininterval3" name="retraininterval3" placeholder="retraininterval" ></div>
                                  </div>
                                </div>

                            </div>
{#                            <div align="center" class="___services__btn" style="margin-top: 20px;">#}
{#                                <button type="submit" >#}
{#                                    Add algorithm#}
{#                                </button>#}
{#                            </div>#}
                                <input type="submit" name="submit_button" value="algoSubmit">
{#                      </form>#}
                    </div>
                </div>
            </div>
    </div>

<!-- Services Section-->
<div class="__services" id="services">

{#        Popularity: window size en retrain interval#}
{#        Recency: retrain interval#}
{#        ItemKNN: K, window, normalize en retrain interval#}
    <div class="box">
        <div class="__container">

            <div class="_dataset_title" >List of added algorithms</div>
            <div class="_dataset__btn">
                <button name="submit_button" value="remove">Remove algorithm</button>
            </div>

            <div class="_dataset__header">
                <div class="_dataset__item" tabindex="1">
                    <ul><li>Algorithm number</li><li>Algorithm name</li></ul>
                </div>
            </div>

            <div class="_dataset__card">
                <div class="_dataset__scroll">
                    {% set count = [] %}
                    {% for key, value in algo_dict.items() %}
                        <div class="_dataset__item" tabindex={{ count|length }}>
                            <ul><li>{{ key }}</li><li>{{ value }}</li></ul>
                        </div>
                        {% set __ = count.append(1) %}
                    {% endfor %}

                </div>
            </div>
        </div>
    </div>
{#        <div class="___services__btn">#}
{#            <button type="submit">#}
{#                <a href="visualizations">Start Setup</a>#}
{#            </button>#}
{#        </div>#}
</div>

<input type="submit" name="submit_button" value="abtestSubmit">

</form>

<script src="../static/jquery-3.2.1.js">
</script>
<script>
    {#$('#algoSelection').val();#}
    {#var select1 = document.getElementById('algoSelect');#}
    {#var value = select1.options[select1.selectedIndex].value;#}
    {#console.log(value);#}

    {#function update() {#}
    {#    var select = document.getElementById('algoSelection');#}
    {#    var option = select.options[select.selectedIndex];#}
    {##}
    {#    document.getElementById('algoSelection').value = option.value;#}

    {#update();#}
    var form = $('form[data-name="cForm"]');
    form.find($("#startingpoint")).val("2022-04-08T19:16");
    form.find($("#endpoint")).val("2022-04-14T19:16");
    form.find($("#stepsize")).val("1");
    form.find($("#topk")).val("10");


    {#$(document).ready(function() {#}
    {#    $("#algoSelection").change(function() {#}
    {##}
    {#        //Hide -other- visible forms#}
    {#        $("#popularity_par, #recency_par, #itemknn_par").hide();#}
    {#        $("#" + $(this).val()).show();#}
    {#    });#}
    {# });#}

    function switchVisibleParameters() {

            var select = document.getElementById('algoSelection');
            var option = select.options[select.selectedIndex];

            if (option.value == 'popularity') {
                if (document.getElementById('popularity_par').style.opacity == '0') {
                    document.getElementById('popularity_par').style.opacity = '1';
                    document.getElementById('popularity_par').style.height = '100px';
                    document.getElementById('popularity_par').style.width = '720px';

                    document.getElementById('recency_par').style.opacity = '0';
                    document.getElementById('recency_par').style.height = '0px';
                    document.getElementById('recency_par').style.width = '0px';

                    document.getElementById('itemknn_par').style.opacity = '0';
                    document.getElementById('itemknn_par').style.height = '0px';
                    document.getElementById('itemknn_par').style.width = '0px';

                }
            }
            else if (option.value == 'recency') {
                if (document.getElementById('recency_par').style.opacity == '0') {
                    document.getElementById('popularity_par').style.opacity = '0';
                    document.getElementById('popularity_par').style.height = '0px';
                    document.getElementById('popularity_par').style.width = '0px';

                    document.getElementById('recency_par').style.opacity = '1';
                    document.getElementById('recency_par').style.height = '50px';
                    document.getElementById('recency_par').style.width = '720px';

                    document.getElementById('itemknn_par').style.opacity = '0';
                    document.getElementById('itemknn_par').style.height = '0px';
                    document.getElementById('itemknn_par').style.width = '0px';
                }
            }
            else if (option.value == 'itemknn') {
                if (document.getElementById('itemknn_par').style.opacity == '0') {
                    document.getElementById('popularity_par').style.opacity = '0';
                    document.getElementById('popularity_par').style.height = '0px';
                    document.getElementById('popularity_par').style.width = '0px';

                    document.getElementById('recency_par').style.opacity = '0';
                    document.getElementById('recency_par').style.height = '0px';
                    document.getElementById('recency_par').style.width = '0px';

                    document.getElementById('itemknn_par').style.opacity = '1';
                    document.getElementById('itemknn_par').style.height = '200px';
                    document.getElementById('itemknn_par').style.width = '720px';
                }
            }
    }

</script>

</body>
</html>




